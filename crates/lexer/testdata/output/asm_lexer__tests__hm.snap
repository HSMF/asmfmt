---
source: crates/lexer/src/lib.rs
expression: snapshot
---
main: mov eax, rax ; this is a comment
^^^^ Token { kind: Label, line: 1, col: 1, text: "main" }
      ^^^ Token { kind: Instruction, line: 1, col: 7, text: "mov" }
          ^^^ Token { kind: Register, line: 1, col: 11, text: "eax" }
               ^^^ Token { kind: Register, line: 1, col: 16, text: "rax" }
                    ^^^^^^^^^^^^^^^^^^ Token { kind: Comment, line: 1, col: 21, text: " this is a comment" }
      mov ebx, [esp+120 - rax*2]
      ^^^ Token { kind: Instruction, line: 2, col: 7, text: "mov" }
          ^^^ Token { kind: Register, line: 2, col: 11, text: "ebx" }
               ^ Token { kind: OpenEffectiveAddress, line: 2, col: 16, text: "[" }
                ^^^ Token { kind: Label, line: 2, col: 17, text: "esp" }
                   ^ Token { kind: Plus, line: 2, col: 20, text: "+" }
                    ^^^ Token { kind: Number(Decimal), line: 2, col: 21, text: "120" }
                        ^ Token { kind: Minus, line: 2, col: 25, text: "-" }
                          ^^^ Token { kind: Label, line: 2, col: 27, text: "rax" }
                             ^ Token { kind: Times, line: 2, col: 30, text: "*" }
                              ^ Token { kind: Number(Decimal), line: 2, col: 31, text: "2" }
                               ^ Token { kind: CloseEffectiveAddress, line: 2, col: 32, text: "]" }
      mov eax, [somewhere - else ]
      ^^^ Token { kind: Instruction, line: 3, col: 7, text: "mov" }
          ^^^ Token { kind: Register, line: 3, col: 11, text: "eax" }
               ^ Token { kind: OpenEffectiveAddress, line: 3, col: 16, text: "[" }
                ^^^^^^^^^ Token { kind: Label, line: 3, col: 17, text: "somewhere" }
                          ^ Token { kind: Minus, line: 3, col: 27, text: "-" }
                            ^^^^ Token { kind: Label, line: 3, col: 29, text: "else" }
                                 ^ Token { kind: CloseEffectiveAddress, line: 3, col: 34, text: "]" }
 mai: mov eax, rax ; nonlabel: jmp main
 ^^^ Token { kind: Label, line: 4, col: 2, text: "mai" }
      ^^^ Token { kind: Instruction, line: 4, col: 7, text: "mov" }
          ^^^ Token { kind: Register, line: 4, col: 11, text: "eax" }
               ^^^ Token { kind: Register, line: 4, col: 16, text: "rax" }
                    ^^^^^^^^^^^^^^^^^^^ Token { kind: Comment, line: 4, col: 21, text: " nonlabel: jmp main" }
     mov eax, "hell\xabo"
     ^^^ Token { kind: Instruction, line: 5, col: 6, text: "mov" }
         ^^^ Token { kind: Register, line: 5, col: 10, text: "eax" }
               ^^^^^^^^^ Token { kind: String, line: 5, col: 16, text: "hell\\xabo" }

